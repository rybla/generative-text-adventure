{"traceId":"c7765937c2338937578116be2aa3c35a","spans":{"f9dde007e527f991":{"spanId":"f9dde007e527f991","traceId":"c7765937c2338937578116be2aa3c35a","parentSpanId":"572a3d1305f4a81d","startTime":1751305126539,"endTime":1751305128705.6719,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"model","genkit:name":"googleai/gemini-2.5-flash","genkit:path":"/{test_structured_output_union,t:flow}/{generate,t:util}/{googleai/gemini-2.5-flash,t:action,s:model}","genkit:input":"{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"make some example choices\"}]}],\"config\":{},\"tools\":[],\"output\":{\"constrained\":true,\"contentType\":\"application/json\",\"format\":\"json\",\"schema\":{\"type\":\"object\",\"properties\":{\"choices\":{\"type\":\"array\",\"items\":{\"anyOf\":[{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"enum\":[\"cooperate\"]},\"description\":{\"type\":\"string\"}},\"required\":[\"type\",\"description\"],\"additionalProperties\":true},{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"enum\":[\"defect\"]},\"description\":{\"type\":\"string\"}},\"required\":[\"type\",\"description\"],\"additionalProperties\":true}]}}},\"required\":[\"choices\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:output":"{\"candidates\":[{\"index\":0,\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"{\\\"choices\\\":[{\\\"description\\\":\\\"Work together to achieve a mutual benefit.\\\",\\\"type\\\":\\\"cooperate\\\"},{\\\"description\\\":\\\"Prioritize individual gain, potentially at the expense of others.\\\",\\\"type\\\":\\\"defect\\\"},{\\\"description\\\":\\\"Share resources and information for collective success.\\\",\\\"type\\\":\\\"cooperate\\\"}]}\"}]},\"finishReason\":\"stop\",\"custom\":{}}],\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"{\\\"choices\\\":[{\\\"description\\\":\\\"Work together to achieve a mutual benefit.\\\",\\\"type\\\":\\\"cooperate\\\"},{\\\"description\\\":\\\"Prioritize individual gain, potentially at the expense of others.\\\",\\\"type\\\":\\\"defect\\\"},{\\\"description\\\":\\\"Share resources and information for collective success.\\\",\\\"type\\\":\\\"cooperate\\\"}]}\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"index\":0}],\"usageMetadata\":{\"promptTokenCount\":5,\"candidatesTokenCount\":55,\"totalTokenCount\":170,\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":5}],\"thoughtsTokenCount\":110},\"modelVersion\":\"gemini-2.5-flash\",\"responseId\":\"qMtiaJjjKcqk1MkPrZqFoAs\"},\"usage\":{\"inputCharacters\":25,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":286,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":5,\"outputTokens\":55,\"totalTokens\":170},\"latencyMs\":2165.531959}","genkit:state":"success"},"displayName":"googleai/gemini-2.5-flash","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"572a3d1305f4a81d":{"spanId":"572a3d1305f4a81d","traceId":"c7765937c2338937578116be2aa3c35a","parentSpanId":"4dcc601755a5ed33","startTime":1751305126526,"endTime":1751305128755.2583,"attributes":{"genkit:type":"util","genkit:name":"generate","genkit:path":"/{test_structured_output_union,t:flow}/{generate,t:util}","genkit:input":"{\"model\":\"googleai/gemini-2.5-flash\",\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"make some example choices\"}]}],\"config\":{},\"output\":{\"schema\":{\"_def\":{\"unknownKeys\":\"strip\",\"catchall\":{\"_def\":{\"typeName\":\"ZodNever\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"}},\"typeName\":\"ZodObject\"},\"~standard\":{\"version\":1,\"vendor\":\"zod\"},\"_cached\":null},\"format\":\"json\",\"jsonSchema\":{\"type\":\"object\",\"properties\":{\"choices\":{\"type\":\"array\",\"items\":{\"anyOf\":[{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"enum\":[\"cooperate\"]},\"description\":{\"type\":\"string\"}},\"required\":[\"type\",\"description\"],\"additionalProperties\":true},{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"enum\":[\"defect\"]},\"description\":{\"type\":\"string\"}},\"required\":[\"type\",\"description\"],\"additionalProperties\":true}]}}},\"required\":[\"choices\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}","genkit:output":"{\"message\":{\"role\":\"model\",\"content\":[{\"text\":\"{\\\"choices\\\":[{\\\"description\\\":\\\"Work together to achieve a mutual benefit.\\\",\\\"type\\\":\\\"cooperate\\\"},{\\\"description\\\":\\\"Prioritize individual gain, potentially at the expense of others.\\\",\\\"type\\\":\\\"defect\\\"},{\\\"description\\\":\\\"Share resources and information for collective success.\\\",\\\"type\\\":\\\"cooperate\\\"}]}\"}]},\"finishReason\":\"stop\",\"usage\":{\"inputCharacters\":25,\"inputImages\":0,\"inputVideos\":0,\"inputAudioFiles\":0,\"outputCharacters\":286,\"outputImages\":0,\"outputVideos\":0,\"outputAudioFiles\":0,\"inputTokens\":5,\"outputTokens\":55,\"totalTokens\":170},\"custom\":{\"candidates\":[{\"content\":{\"parts\":[{\"text\":\"{\\\"choices\\\":[{\\\"description\\\":\\\"Work together to achieve a mutual benefit.\\\",\\\"type\\\":\\\"cooperate\\\"},{\\\"description\\\":\\\"Prioritize individual gain, potentially at the expense of others.\\\",\\\"type\\\":\\\"defect\\\"},{\\\"description\\\":\\\"Share resources and information for collective success.\\\",\\\"type\\\":\\\"cooperate\\\"}]}\"}],\"role\":\"model\"},\"finishReason\":\"STOP\",\"index\":0}],\"usageMetadata\":{\"promptTokenCount\":5,\"candidatesTokenCount\":55,\"totalTokenCount\":170,\"promptTokensDetails\":[{\"modality\":\"TEXT\",\"tokenCount\":5}],\"thoughtsTokenCount\":110},\"modelVersion\":\"gemini-2.5-flash\",\"responseId\":\"qMtiaJjjKcqk1MkPrZqFoAs\"},\"request\":{\"messages\":[{\"role\":\"user\",\"content\":[{\"text\":\"make some example choices\"}]}],\"config\":{},\"tools\":[],\"output\":{\"constrained\":true,\"contentType\":\"application/json\",\"format\":\"json\",\"schema\":{\"type\":\"object\",\"properties\":{\"choices\":{\"type\":\"array\",\"items\":{\"anyOf\":[{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"enum\":[\"cooperate\"]},\"description\":{\"type\":\"string\"}},\"required\":[\"type\",\"description\"],\"additionalProperties\":true},{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"enum\":[\"defect\"]},\"description\":{\"type\":\"string\"}},\"required\":[\"type\",\"description\"],\"additionalProperties\":true}]}}},\"required\":[\"choices\"],\"additionalProperties\":true,\"$schema\":\"http://json-schema.org/draft-07/schema#\"}}}}","genkit:state":"success"},"displayName":"generate","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}},"4dcc601755a5ed33":{"spanId":"4dcc601755a5ed33","traceId":"c7765937c2338937578116be2aa3c35a","startTime":1751305126524,"endTime":1751305128756.112,"attributes":{"genkit:type":"action","genkit:metadata:subtype":"flow","genkit:name":"test_structured_output_union","genkit:isRoot":true,"genkit:path":"/{test_structured_output_union,t:flow}","genkit:input":"{\"prompt\":\"make some example choices\"}","genkit:output":"{\"choices\":[{\"description\":\"Work together to achieve a mutual benefit.\",\"type\":\"cooperate\"},{\"description\":\"Prioritize individual gain, potentially at the expense of others.\",\"type\":\"defect\"},{\"description\":\"Share resources and information for collective success.\",\"type\":\"cooperate\"}]}","genkit:state":"success"},"displayName":"test_structured_output_union","links":[],"instrumentationLibrary":{"name":"genkit-tracer","version":"v1"},"spanKind":"INTERNAL","sameProcessAsParentSpan":{"value":true},"status":{"code":0},"timeEvents":{"timeEvent":[]}}},"displayName":"test_structured_output_union","startTime":1751305126524,"endTime":1751305128756.112}